(Note: parts of the menu code are part of the classes template and not my own code)
